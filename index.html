<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Supply & Demand Tutorial</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE'
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
        }
        
        .dark {
            color-scheme: dark;
        }
        
        canvas {
            border-radius: 8px;
            background: white;
        }
        
        .dark canvas {
            background: #2d3748;
        }
        
        .btn-primary {
            background: #5D5CDE;
            transition: all 0.2s ease;
        }
        
        .btn-primary:hover {
            background: #4c4bcc;
            transform: translateY(-1px);
        }
        
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .dark .card {
            background: #2d3748;
            border: 1px solid #4a5568;
        }
        
        .animate-bounce-gentle {
            animation: bounce-gentle 1s ease-in-out infinite;
        }
        
        @keyframes bounce-gentle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-4px); }
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen">
    <div class="container mx-auto px-4 py-6 max-w-6xl">
        <!-- èªè¨€åˆ‡æ›æŒ‰éˆ• -->
        <div class="flex justify-end mb-4">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-1 flex">
                <button id="langCN" class="px-3 py-1 rounded-md text-sm font-medium transition-all duration-200 bg-primary text-white">
                    ä¸­æ–‡
                </button>
                <button id="langEN" class="px-3 py-1 rounded-md text-sm font-medium transition-all duration-200 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                    English
                </button>
            </div>
        </div>

        <!-- æ¨™é¡Œ -->
        <div class="text-center mb-8">
            <h1 id="mainTitle" class="text-3xl md:text-4xl font-bold mb-2 text-primary">ä¾›éœ€å‡è¡¡äº’å‹•æ•™å­¸</h1>
            <p id="mainSubtitle" class="text-lg text-gray-600 dark:text-gray-400">è§€å¯Ÿéœ€æ±‚è®ŠåŒ–å°å‡è¡¡åƒ¹æ ¼å’Œæ•¸é‡çš„å½±éŸ¿</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- æ§åˆ¶é¢æ¿ -->
            <div class="lg:col-span-1">
                <div class="card p-6">
                    <h2 id="controlPanel" class="text-xl font-semibold mb-4 text-center">æ§åˆ¶é¢æ¿</h2>
                    
                    <!-- éœ€æ±‚èª¿æ•´ -->
                    <div class="mb-6">
                        <label id="demandAdjustment" class="block text-sm font-medium mb-3">éœ€æ±‚æ›²ç·šèª¿æ•´</label>
                        <div class="space-y-3">
                            <button id="increaseDemand" class="btn-primary text-white px-4 py-2 rounded-lg w-full text-base font-medium">
                                éœ€æ±‚ä¸Šå‡ â†—ï¸
                            </button>
                            <button id="decreaseDemand" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg w-full text-base font-medium transition-all duration-200">
                                éœ€æ±‚ä¸‹é™ â†˜ï¸
                            </button>
                            <button id="resetDemand" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg w-full text-base font-medium transition-all duration-200">
                                é‡è¨­ ğŸ”„
                            </button>
                        </div>
                    </div>


                </div>
            </div>

            <!-- åœ–è¡¨å€åŸŸ -->
            <div class="lg:col-span-2">
                <div class="card p-6">
                    <h2 id="chartTitle" class="text-xl font-semibold mb-4 text-center">ä¾›éœ€å‡è¡¡åœ–</h2>
                    <div class="relative">
                        <canvas id="economicsChart" width="600" height="400" class="w-full max-w-full"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- äº’å‹•æ¸¬é©—å€åŸŸ -->
        <div class="mt-8 card p-6">
            <h2 class="text-xl font-semibold mb-6 text-center">ğŸ’­ äº’å‹•æ¸¬é©—</h2>
            
            <!-- Question 1 -->
            <div class="mb-8">
                <h3 class="text-lg font-medium mb-4 text-gray-800 dark:text-gray-200" data-question-id="1">
                    Question 1: When demand increases, how do equilibrium price and quantity change?
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="1" data-answer="A">
                        <span class="font-medium text-primary">A.</span> <span class="option-text">Price increases, quantity increases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="1" data-answer="B">
                        <span class="font-medium text-primary">B.</span> <span class="option-text">Price decreases, quantity decreases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="1" data-answer="C">
                        <span class="font-medium text-primary">C.</span> <span class="option-text">Price increases, quantity decreases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="1" data-answer="D">
                        <span class="font-medium text-primary">D.</span> <span class="option-text">Price decreases, quantity increases</span>
                    </button>
                </div>
                <div id="feedback-1" class="mt-4 p-4 rounded-lg hidden"></div>
            </div>

            <!-- Question 2 -->
            <div class="mb-8">
                <h3 class="text-lg font-medium mb-4 text-gray-800 dark:text-gray-200" data-question-id="2">
                    Question 2: When demand decreases, how do equilibrium price and quantity change?
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="2" data-answer="A">
                        <span class="font-medium text-primary">A.</span> <span class="option-text">Price increases, quantity increases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="2" data-answer="B">
                        <span class="font-medium text-primary">B.</span> <span class="option-text">Price decreases, quantity decreases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="2" data-answer="C">
                        <span class="font-medium text-primary">C.</span> <span class="option-text">Price increases, quantity decreases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="2" data-answer="D">
                        <span class="font-medium text-primary">D.</span> <span class="option-text">Price decreases, quantity increases</span>
                    </button>
                </div>
                <div id="feedback-2" class="mt-4 p-4 rounded-lg hidden"></div>
            </div>

            <!-- Question 3 -->
            <div class="mb-8">
                <h3 class="text-lg font-medium mb-4 text-gray-800 dark:text-gray-200" data-question-id="3">
                    Question 3: If people expect the price of good X to rise, what happens to the current equilibrium price of X?
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="3" data-answer="A">
                        <span class="font-medium text-primary">A.</span> <span class="option-text">Current equilibrium price increases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="3" data-answer="B">
                        <span class="font-medium text-primary">B.</span> <span class="option-text">Current equilibrium price decreases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="3" data-answer="C">
                        <span class="font-medium text-primary">C.</span> <span class="option-text">Current equilibrium price remains unchanged</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="3" data-answer="D">
                        <span class="font-medium text-primary">D.</span> <span class="option-text">Cannot determine the direction</span>
                    </button>
                </div>
                <div id="feedback-3" class="mt-4 p-4 rounded-lg hidden"></div>
            </div>

            <!-- Question 4 -->
            <div class="mb-8">
                <h3 class="text-lg font-medium mb-4 text-gray-800 dark:text-gray-200" data-question-id="4">
                    Question 4: If goods X and Y are substitutes, when the equilibrium price of X rises, how does the equilibrium quantity of Y change?
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="4" data-answer="A">
                        <span class="font-medium text-primary">A.</span> <span class="option-text">Quantity of Y increases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="4" data-answer="B">
                        <span class="font-medium text-primary">B.</span> <span class="option-text">Quantity of Y decreases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="4" data-answer="C">
                        <span class="font-medium text-primary">C.</span> <span class="option-text">Quantity of Y remains unchanged</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="4" data-answer="D">
                        <span class="font-medium text-primary">D.</span> <span class="option-text">Cannot determine the direction</span>
                    </button>
                </div>
                <div id="feedback-4" class="mt-4 p-4 rounded-lg hidden"></div>
            </div>

            <!-- Question 5 -->
            <div class="mb-8">
                <h3 class="text-lg font-medium mb-4 text-gray-800 dark:text-gray-200" data-question-id="5">
                    Question 5: During an economic recession, if good X is an inferior good, how does its equilibrium price change?
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="5" data-answer="A">
                        <span class="font-medium text-primary">A.</span> <span class="option-text">Equilibrium price increases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="5" data-answer="B">
                        <span class="font-medium text-primary">B.</span> <span class="option-text">Equilibrium price decreases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="5" data-answer="C">
                        <span class="font-medium text-primary">C.</span> <span class="option-text">Equilibrium price remains unchanged</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="5" data-answer="D">
                        <span class="font-medium text-primary">D.</span> <span class="option-text">Cannot determine the direction</span>
                    </button>
                </div>
                <div id="feedback-5" class="mt-4 p-4 rounded-lg hidden"></div>
            </div>

            <!-- Question 6 -->
            <div class="mb-8">
                <h3 class="text-lg font-medium mb-4 text-gray-800 dark:text-gray-200" data-question-id="6">
                    Question 6: Good X has derived demand from good Y. When demand for Y decreases, how does the equilibrium quantity of X change?
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="6" data-answer="A">
                        <span class="font-medium text-primary">A.</span> <span class="option-text">Quantity of X increases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="6" data-answer="B">
                        <span class="font-medium text-primary">B.</span> <span class="option-text">Quantity of X decreases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="6" data-answer="C">
                        <span class="font-medium text-primary">C.</span> <span class="option-text">Quantity of X remains unchanged</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="6" data-answer="D">
                        <span class="font-medium text-primary">D.</span> <span class="option-text">Cannot determine the direction</span>
                    </button>
                </div>
                <div id="feedback-6" class="mt-4 p-4 rounded-lg hidden"></div>
            </div>

            <!-- Question 7 -->
            <div class="mb-8">
                <h3 class="text-lg font-medium mb-4 text-gray-800 dark:text-gray-200" data-question-id="7">
                    Question 7: Good X is a complement to good Y. When the equilibrium price of Y decreases, how does the equilibrium price of X change?
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="7" data-answer="A">
                        <span class="font-medium text-primary">A.</span> <span class="option-text">Price of X increases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="7" data-answer="B">
                        <span class="font-medium text-primary">B.</span> <span class="option-text">Price of X decreases</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="7" data-answer="C">
                        <span class="font-medium text-primary">C.</span> <span class="option-text">Price of X remains unchanged</span>
                    </button>
                    <button class="quiz-option text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-primary hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200" 
                            data-question="7" data-answer="D">
                        <span class="font-medium text-primary">D.</span> <span class="option-text">Cannot determine the direction</span>
                    </button>
                </div>
                <div id="feedback-7" class="mt-4 p-4 rounded-lg hidden"></div>
            </div>
        </div>

        <!-- èªªæ˜å€åŸŸ -->
        <div class="mt-8 card p-6">
            <h2 class="text-xl font-semibold mb-4">ç¶“æ¿Ÿå­¸æ¦‚å¿µèªªæ˜</h2>
            
            <!-- äº’å‹•èªªæ˜ -->
            <div class="mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
                <h3 class="font-semibold text-blue-700 dark:text-blue-300 mb-2">ğŸ“± äº’å‹•åŠŸèƒ½</h3>
                <p class="text-sm text-blue-600 dark:text-blue-400">
                    å…ˆé»æ“ŠæŒ‰éˆ•å‰µå»ºæ–°çš„éœ€æ±‚æ›²ç·šï¼ˆDâ‚‚ï¼‰ï¼Œç„¶å¾Œå¯ä»¥ç”¨æ»‘é¼ æˆ–æ‰‹æŒ‡ç›´æ¥æ‹–å‹•éœ€æ±‚æ›²ç·šä¸Šä¸‹ç§»å‹•ï¼Œè§€å¯Ÿå‡è¡¡é»çš„å¯¦æ™‚è®ŠåŒ–ï¼
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-sm">
                <div>
                    <h3 class="font-semibold text-primary mb-2">éœ€æ±‚ä¸Šå‡çš„å½±éŸ¿ï¼š</h3>
                    <ul class="list-disc list-inside space-y-1 text-gray-600 dark:text-gray-400">
                        <li>éœ€æ±‚æ›²ç·šå‘å³ä¸Šæ–¹ç§»å‹•</li>
                        <li>å‡è¡¡åƒ¹æ ¼ä¸Šå‡</li>
                        <li>å‡è¡¡æ•¸é‡å¢åŠ </li>
                        <li>å¸‚å ´å‡ºç¾çŸ­æœŸä¾›ä¸æ‡‰æ±‚</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-red-500 mb-2">éœ€æ±‚ä¸‹é™çš„å½±éŸ¿ï¼š</h3>
                    <ul class="list-disc list-inside space-y-1 text-gray-600 dark:text-gray-400">
                        <li>éœ€æ±‚æ›²ç·šå‘å·¦ä¸‹æ–¹ç§»å‹•</li>
                        <li>å‡è¡¡åƒ¹æ ¼ä¸‹é™</li>
                        <li>å‡è¡¡æ•¸é‡æ¸›å°‘</li>
                        <li>å¸‚å ´å‡ºç¾çŸ­æœŸä¾›éæ–¼æ±‚</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ·±è‰²æ¨¡å¼è¨­å®š
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // ç¶“æ¿Ÿå­¸åœ–è¡¨é¡
        class EconomicsChart {
            constructor(canvasId) {
                this.canvas = document.getElementById(canvasId);
                this.ctx = this.canvas.getContext('2d');
                this.width = this.canvas.width;
                this.height = this.canvas.height;
                
                // åˆå§‹éœ€æ±‚åç§»
                this.demandShift = 0;
                
                // è¨­å®šåœ–è¡¨é‚Šè·
                this.margin = 60;
                this.chartWidth = this.width - 2 * this.margin;
                this.chartHeight = this.height - 2 * this.margin;
                
                // æ‹–å‹•ç›¸é—œç‹€æ…‹
                this.isDragging = false;
                this.isHovering = false;
                this.dragStartY = 0;
                this.initialShift = 0;
                
                this.setupEventListeners();
                this.setupInteractionListeners();
                this.draw();
            }
            
            setupEventListeners() {
                // éŸ¿æ‡‰å¼èª¿æ•´
                const resizeCanvas = () => {
                    const container = this.canvas.parentElement;
                    const rect = container.getBoundingClientRect();
                    
                    // æª¢æ¸¬æ˜¯å¦ç‚ºæ‰‹æ©Ÿè¨­å‚™
                    const isMobile = window.innerWidth <= 768;
                    const isPortrait = window.innerHeight > window.innerWidth;
                    
                    let scale;
                    if (isMobile && isPortrait) {
                        // æ‰‹æ©Ÿå‚ç›´æ¨¡å¼ï¼šä½¿ç”¨æ›´å¤§çš„æœ€å°ç¸®æ”¾æ¯”ä¾‹ï¼Œç¢ºä¿åœ–è¡¨è¶³å¤ å¤§
                        const containerScale = rect.width / 600;
                        scale = Math.max(containerScale, 0.95); // æœ€å°ç¸®æ”¾æ¯”ä¾‹ç‚º0.95ï¼ˆå¢å¤§35%ï¼‰
                        scale = Math.min(scale, 1.6); // æœ€å¤§ç¸®æ”¾æ¯”ä¾‹ç‚º1.6
                    } else {
                        // æ¡Œé¢æˆ–å¹³æ¿æ¨¡å¼ï¼šä½¿ç”¨åŸä¾†çš„é‚è¼¯
                        scale = Math.min(rect.width / 600, 1);
                    }
                    
                    this.canvas.style.transform = `scale(${scale})`;
                    this.canvas.style.transformOrigin = 'top left';
                    
                    // å‹•æ…‹èª¿æ•´å®¹å™¨é«˜åº¦ä»¥é©æ‡‰ç¸®æ”¾å¾Œçš„åœ–è¡¨
                    if (isMobile && isPortrait) {
                        const scaledHeight = 400 * scale;
                        container.style.height = `${scaledHeight}px`;
                        container.style.overflow = 'visible';
                    } else {
                        container.style.height = 'auto';
                        container.style.overflow = 'hidden';
                    }
                };
                
                window.addEventListener('resize', resizeCanvas);
                window.addEventListener('orientationchange', () => {
                    setTimeout(resizeCanvas, 100); // å»¶é²åŸ·è¡Œä»¥ç¢ºä¿orientationchangeå®Œæˆ
                });
                resizeCanvas();
            }
            
            // ä¾›çµ¦å‡½æ•¸ (å‘ä¸Šå‚¾æ–œ)
            supplyFunction(quantity) {
                return 5 + 0.05 * quantity;
            }
            
            // åŸå§‹éœ€æ±‚å‡½æ•¸ (ç„¡åç§»)
            originalDemandFunction(quantity) {
                return 15 - 0.05 * quantity;
            }
            
            // éœ€æ±‚å‡½æ•¸ (å‘ä¸‹å‚¾æ–œï¼ŒåŠ ä¸Šåç§»)
            demandFunction(quantity) {
                return 15 - 0.05 * quantity + this.demandShift;
            }
            
            // è¨ˆç®—åŸå§‹å‡è¡¡é»
            calculateOriginalEquilibrium() {
                // æ±‚è§£ä¾›éœ€ç›¸ç­‰: 5 + 0.05 * Q = 15 - 0.05 * Q
                // 0.1 * Q = 10
                // Q = 100
                const equilibriumQuantity = 100;
                const equilibriumPrice = this.supplyFunction(equilibriumQuantity);
                
                return { quantity: equilibriumQuantity, price: equilibriumPrice };
            }
            
            // è¨ˆç®—æ–°å‡è¡¡é»
            calculateNewEquilibrium() {
                // æ±‚è§£ä¾›éœ€ç›¸ç­‰: 5 + 0.05 * Q = 15 - 0.05 * Q + shift
                // 0.1 * Q = 10 + shift
                // Q = (10 + shift) / 0.1
                const equilibriumQuantity = (10 + this.demandShift) / 0.1;
                const equilibriumPrice = this.supplyFunction(equilibriumQuantity);
                
                return { quantity: equilibriumQuantity, price: equilibriumPrice };
            }
            
            // åº§æ¨™è½‰æ›
            toCanvasX(quantity) {
                return this.margin + (quantity / 200) * this.chartWidth;
            }
            
            toCanvasY(price) {
                return this.height - this.margin - ((price - 0) / 20) * this.chartHeight;
            }
            
            draw() {
                // æ¸…é™¤ç•«å¸ƒ
                this.ctx.clearRect(0, 0, this.width, this.height);
                
                // è¨­å®šé¡è‰²ï¼ˆæ ¹æ“šæ·±è‰²æ¨¡å¼ï¼‰
                const isDark = document.documentElement.classList.contains('dark');
                const textColor = isDark ? '#e2e8f0' : '#374151';
                const gridColor = isDark ? '#4a5568' : '#d1d5db';
                const axisColor = isDark ? '#718096' : '#6b7280';
                
                // ç¹ªè£½åº§æ¨™è»¸
                this.drawAxes(textColor, axisColor);
                
                // ç¹ªè£½æ ¼ç·š
                this.drawGrid(gridColor);
                
                // ç¹ªè£½ä¾›çµ¦æ›²ç·š
                this.drawSupplyCurve();
                
                // ç¹ªè£½éœ€æ±‚æ›²ç·š
                this.drawDemandCurve();
                
                // ç¹ªè£½å‡è¡¡é»
                this.drawEquilibrium();
                
                // æ›´æ–°æ•¸å€¼é¡¯ç¤º
                this.updateDisplay();
            }
            
            drawAxes(textColor, axisColor) {
                this.ctx.strokeStyle = axisColor;
                this.ctx.lineWidth = 2;
                this.ctx.font = '14px Noto Sans TC';
                this.ctx.fillStyle = textColor;
                
                // Xè»¸
                this.ctx.beginPath();
                this.ctx.moveTo(this.margin, this.height - this.margin);
                this.ctx.lineTo(this.width - this.margin, this.height - this.margin);
                this.ctx.stroke();
                
                // Yè»¸
                this.ctx.beginPath();
                this.ctx.moveTo(this.margin, this.margin);
                this.ctx.lineTo(this.margin, this.height - this.margin);
                this.ctx.stroke();
                
                // è»¸æ¨™ç±¤
                // Xè»¸æ¨™ç±¤æ”¾åœ¨å³æ–¹
                this.ctx.textAlign = 'center';
                this.ctx.fillText('æ•¸é‡ (Quantity)', this.width - this.margin - 20, this.height - 20);
                
                // Yè»¸æ¨™ç±¤æ”¾åœ¨é ‚éƒ¨
                this.ctx.textAlign = 'left';
                this.ctx.fillText('åƒ¹æ ¼ (Price)', 15, 25);
            }
            
            drawGrid(gridColor) {
                this.ctx.strokeStyle = gridColor;
                this.ctx.lineWidth = 0.3;
                
                // å‚ç›´ç·š (æ·¡åŒ–æ ¼ç·š)
                for (let q = 0; q <= 200; q += 50) {
                    const x = this.toCanvasX(q);
                    this.ctx.beginPath();
                    this.ctx.moveTo(x, this.margin);
                    this.ctx.lineTo(x, this.height - this.margin);
                    this.ctx.stroke();
                }
                
                // æ°´å¹³ç·š (æ·¡åŒ–æ ¼ç·š)
                for (let p = 0; p <= 20; p += 5) {
                    const y = this.toCanvasY(p);
                    this.ctx.beginPath();
                    this.ctx.moveTo(this.margin, y);
                    this.ctx.lineTo(this.width - this.margin, y);
                    this.ctx.stroke();
                }
            }
            
            drawSupplyCurve() {
                this.ctx.strokeStyle = '#ef4444';
                this.ctx.lineWidth = 3;
                this.ctx.beginPath();
                
                for (let q = 0; q <= 200; q += 1) {
                    const price = this.supplyFunction(q);
                    const x = this.toCanvasX(q);
                    const y = this.toCanvasY(price);
                    
                    if (q === 0) {
                        this.ctx.moveTo(x, y);
                    } else {
                        this.ctx.lineTo(x, y);
                    }
                }
                
                this.ctx.stroke();
                
                // S æ¨™ç±¤ - æ”¾åœ¨æ›²ç·šæœ«ç«¯å³æ–¹ï¼Œç¨å¾®é«˜ä¸€é»
                const sEndQ = 190;
                const sEndPrice = this.supplyFunction(sEndQ);
                const sEndX = this.toCanvasX(sEndQ);
                const sEndY = this.toCanvasY(sEndPrice);
                
                this.ctx.fillStyle = '#ef4444';
                this.ctx.font = 'bold 18px Noto Sans TC';
                this.ctx.fillText('S', sEndX + 10, sEndY - 8);
            }
            
            drawDemandCurve() {
                // ç¹ªè£½åŸå§‹éœ€æ±‚æ›²ç·š D1 (è—è‰²å¯¦ç·š)
                this.ctx.strokeStyle = '#3b82f6';
                this.ctx.lineWidth = 2;
                this.ctx.beginPath();
                
                for (let q = 0; q <= 200; q += 1) {
                    const price = this.originalDemandFunction(q);
                    if (price < 0) continue;
                    
                    const x = this.toCanvasX(q);
                    const y = this.toCanvasY(price);
                    
                    if (q === 0) {
                        this.ctx.moveTo(x, y);
                    } else {
                        this.ctx.lineTo(x, y);
                    }
                }
                
                this.ctx.stroke();
                
                // ç¹ªè£½æ–°éœ€æ±‚æ›²ç·š D2
                if (this.demandShift !== 0) {
                    this.ctx.strokeStyle = '#1d4ed8';
                    this.ctx.lineWidth = 3;
                    this.ctx.beginPath();
                    
                    for (let q = 0; q <= 200; q += 1) {
                        const price = this.demandFunction(q);
                        if (price < 0) continue;
                        
                        const x = this.toCanvasX(q);
                        const y = this.toCanvasY(price);
                        
                        if (q === 0) {
                            this.ctx.moveTo(x, y);
                        } else {
                            this.ctx.lineTo(x, y);
                        }
                    }
                    
                    this.ctx.stroke();
                }
                
                // æ¨™ç±¤ - æ”¾åœ¨æ›²ç·šå³æ–¹
                this.ctx.font = 'bold 16px Noto Sans TC';
                
                // Dâ‚ æ¨™ç±¤ (åœ¨æ›²ç·šæœ«ç«¯å³æ–¹)
                const d1EndQ = 200;
                const d1EndPrice = this.originalDemandFunction(d1EndQ);
                if (d1EndPrice > 0) {
                    const d1EndX = this.toCanvasX(d1EndQ);
                    const d1EndY = this.toCanvasY(d1EndPrice);
                    
                    this.ctx.fillStyle = '#3b82f6';
                    this.ctx.font = 'bold 18px Noto Sans TC';
                    this.ctx.fillText('Dâ‚', d1EndX + 10, d1EndY + 5);
                }
                
                // Dâ‚‚ æ¨™ç±¤ (å¦‚æœæœ‰è®ŠåŒ–ï¼Œåœ¨æ›²ç·šæœ«ç«¯å³æ–¹)
                if (this.demandShift !== 0) {
                    const d2EndQ = 200;
                    const d2EndPrice = this.demandFunction(d2EndQ);
                    if (d2EndPrice > 0) {
                        const d2EndX = this.toCanvasX(d2EndQ);
                        const d2EndY = this.toCanvasY(d2EndPrice);
                        
                        this.ctx.fillStyle = '#1d4ed8';
                        this.ctx.font = 'bold 18px Noto Sans TC';
                        this.ctx.fillText('Dâ‚‚', d2EndX + 10, d2EndY + 5);
                    }
                }
            }
            
            drawEquilibrium() {
                const originalEq = this.calculateOriginalEquilibrium();
                const originalX = this.toCanvasX(originalEq.quantity);
                const originalY = this.toCanvasY(originalEq.price);
                
                // ç¹ªè£½åŸå§‹å‡è¡¡é»çš„è™›ç·šåˆ°åº§æ¨™è»¸
                this.ctx.strokeStyle = '#9ca3af';
                this.ctx.lineWidth = 1;
                this.ctx.setLineDash([4, 4]);
                
                // P1 åˆ°Yè»¸çš„ç·š
                this.ctx.beginPath();
                this.ctx.moveTo(this.margin, originalY);
                this.ctx.lineTo(originalX, originalY);
                this.ctx.stroke();
                
                // Q1 åˆ°Xè»¸çš„ç·š
                this.ctx.beginPath();
                this.ctx.moveTo(originalX, originalY);
                this.ctx.lineTo(originalX, this.height - this.margin);
                this.ctx.stroke();
                
                this.ctx.setLineDash([]);
                
                // ç¹ªè£½åŸå§‹å‡è¡¡é» (P1, Q1)
                this.ctx.fillStyle = '#6b7280';
                this.ctx.strokeStyle = '#374151';
                this.ctx.lineWidth = 3;
                this.ctx.beginPath();
                this.ctx.arc(originalX, originalY, 7, 0, 2 * Math.PI);
                this.ctx.fill();
                this.ctx.stroke();
                
                // Pâ‚, Qâ‚ æ¨™ç±¤
                this.ctx.font = 'bold 14px Noto Sans TC';
                this.ctx.fillStyle = '#9ca3af';
                this.ctx.fillText('Pâ‚', this.margin - 25, originalY + 4);
                this.ctx.fillText('Qâ‚', originalX - 8, this.height - this.margin + 20);
                
                // å¦‚æœæœ‰éœ€æ±‚è®ŠåŒ–ï¼Œç¹ªè£½æ–°å‡è¡¡é»
                if (this.demandShift !== 0) {
                    const newEq = this.calculateNewEquilibrium();
                    const newX = this.toCanvasX(newEq.quantity);
                    const newY = this.toCanvasY(newEq.price);
                    
                    // ç¹ªè£½æ–°å‡è¡¡é»çš„è™›ç·šåˆ°åº§æ¨™è»¸
                    this.ctx.strokeStyle = '#3b82f6';
                    this.ctx.lineWidth = 2;
                    this.ctx.setLineDash([6, 3]);
                    
                    // P2 åˆ°Yè»¸çš„ç·š
                    this.ctx.beginPath();
                    this.ctx.moveTo(this.margin, newY);
                    this.ctx.lineTo(newX, newY);
                    this.ctx.stroke();
                    
                    // Q2 åˆ°Xè»¸çš„ç·š
                    this.ctx.beginPath();
                    this.ctx.moveTo(newX, newY);
                    this.ctx.lineTo(newX, this.height - this.margin);
                    this.ctx.stroke();
                    
                    this.ctx.setLineDash([]);
                    
                    // ç¹ªè£½æ–°å‡è¡¡é» (P2, Q2)
                    this.ctx.fillStyle = '#3b82f6';
                    this.ctx.strokeStyle = '#2563eb';
                    this.ctx.lineWidth = 3;
                    this.ctx.beginPath();
                    this.ctx.arc(newX, newY, 7, 0, 2 * Math.PI);
                    this.ctx.fill();
                    this.ctx.stroke();
                    
                    // Pâ‚‚, Qâ‚‚ æ¨™ç±¤
                    this.ctx.fillStyle = '#2563eb';
                    this.ctx.font = 'bold 14px Noto Sans TC';
                    this.ctx.fillText('Pâ‚‚', this.margin - 25, newY + 4);
                    this.ctx.fillText('Qâ‚‚', newX - 8, this.height - this.margin + 20);
                    
                    // ç¹ªè£½ç®­é ­
                    this.drawArrows(originalEq, newEq, originalX, originalY, newX, newY);
                }
            }
            
            // ç¹ªè£½ç®­é ­å‡½æ•¸
            drawArrows(originalEq, newEq, originalX, originalY, newX, newY) {
                this.ctx.strokeStyle = '#f97316';
                this.ctx.fillStyle = '#f97316';
                this.ctx.lineWidth = 3;
                
                // D1 åˆ° D2 çš„ç®­é ­ (ç´”æ°´å¹³æ–¹å‘ï¼Œåœ¨æ›²ç·šå·¦å´ä½ç½®ï¼Œé¿å…èˆ‡Dæ¨™ç±¤é‡ç–Š)
                const arrowQ = 80; // ç§»åˆ°æ›´å·¦å´ï¼Œé¿å…èˆ‡Dâ‚, Dâ‚‚æ¨™ç±¤é‡ç–Š
                const d1ArrowY = this.toCanvasY(this.originalDemandFunction(arrowQ));
                const d2ArrowY = this.toCanvasY(this.demandFunction(arrowQ));
                const arrowX = this.toCanvasX(arrowQ);
                
                // ç´”æ°´å¹³ç®­é ­ï¼Œåœ¨åŒä¸€æ°´å¹³ç·šä¸Šï¼Œæ ¹æ“šéœ€æ±‚è®ŠåŒ–æ–¹å‘æ±ºå®šç®­é ­æ–¹å‘
                const demandArrowY = (d1ArrowY + d2ArrowY) / 2; // ä½¿ç”¨ä¸­é–“ä½ç½®çš„Yåº§æ¨™
                const horizontalOffset = 25;
                
                if (this.demandShift > 0) {
                    // éœ€æ±‚ä¸Šå‡ï¼šç®­é ­å‘å³
                    this.drawArrow(arrowX - horizontalOffset, demandArrowY, arrowX + horizontalOffset, demandArrowY);
                } else {
                    // éœ€æ±‚ä¸‹é™ï¼šç®­é ­å‘å·¦
                    this.drawArrow(arrowX + horizontalOffset, demandArrowY, arrowX - horizontalOffset, demandArrowY);
                }
                
                // P1 åˆ° P2 çš„ç®­é ­ (å‚ç›´æ–¹å‘ï¼Œé¿å…èˆ‡Pæ¨™ç±¤é‡ç–Š)
                this.drawArrow(this.margin - 45, originalY, this.margin - 45, newY);
                
                // Q1 åˆ° Q2 çš„ç®­é ­ (æ°´å¹³æ–¹å‘ï¼Œæ›´é é›¢Qæ¨™ç±¤)
                this.drawArrow(originalX, this.height - this.margin + 35, newX, this.height - this.margin + 35);
            }
            
            // ç¹ªè£½å–®å€‹ç®­é ­
            drawArrow(startX, startY, endX, endY) {
                const headlen = 12;
                const angle = Math.atan2(endY - startY, endX - startX);
                
                // ç¹ªè£½ç®­é ­ç·š
                this.ctx.beginPath();
                this.ctx.moveTo(startX, startY);
                this.ctx.lineTo(endX, endY);
                this.ctx.stroke();
                
                // ç¹ªè£½ä¸¦å¡«å……ç®­é ­é ­éƒ¨ï¼ˆå¯¦å¿ƒä¸‰è§’å½¢ï¼‰
                this.ctx.beginPath();
                this.ctx.moveTo(endX, endY);
                this.ctx.lineTo(endX - headlen * Math.cos(angle - Math.PI / 6), endY - headlen * Math.sin(angle - Math.PI / 6));
                this.ctx.lineTo(endX - headlen * Math.cos(angle + Math.PI / 6), endY - headlen * Math.sin(angle + Math.PI / 6));
                this.ctx.closePath();
                this.ctx.fill();
                this.ctx.stroke();
            }
            
            updateDisplay() {
                // ä¸å†éœ€è¦æ›´æ–°é¡¯ç¤ºé¢æ¿ï¼Œå› ç‚ºå·²ç¶“ç§»é™¤
            }
            
            increaseDemand() {
                this.demandShift += 3;
                this.animateDraw();
            }
            
            decreaseDemand() {
                this.demandShift -= 3;
                this.animateDraw();
            }
            
            resetDemand() {
                this.demandShift = 0;
                this.animateDraw();
            }
            
            animateDraw() {
                // ç°¡å–®çš„é‡ç¹ªå‹•ç•«
                this.canvas.style.transform += ' scale(1.02)';
                setTimeout(() => {
                    this.canvas.style.transform = this.canvas.style.transform.replace(' scale(1.02)', '');
                    this.draw();
                }, 100);
                
                this.draw();
            }
            
            // è¨­ç½®äº¤äº’ç›£è½å™¨
            setupInteractionListeners() {
                // æ»‘é¼ äº‹ä»¶
                this.canvas.addEventListener('mousedown', (e) => this.handleStart(e));
                this.canvas.addEventListener('mousemove', (e) => this.handleMove(e));
                this.canvas.addEventListener('mouseup', (e) => this.handleEnd(e));
                this.canvas.addEventListener('mouseleave', (e) => this.handleEnd(e));
                
                // è§¸æ§äº‹ä»¶
                this.canvas.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    this.handleStart(e.touches[0]);
                });
                this.canvas.addEventListener('touchmove', (e) => {
                    e.preventDefault();
                    this.handleMove(e.touches[0]);
                });
                this.canvas.addEventListener('touchend', (e) => {
                    e.preventDefault();
                    this.handleEnd(e);
                });
                
                // æ”¹è®Šæ¸¸æ¨™æ¨£å¼
                this.canvas.addEventListener('mousemove', (e) => {
                    if (!this.isDragging) {
                        this.updateCursor(e);
                    }
                });
            }
            
            // ç²å–æ»‘é¼ /è§¸æ§ä½ç½®
            getEventPos(e) {
                const rect = this.canvas.getBoundingClientRect();
                const scaleX = this.canvas.width / rect.width;
                const scaleY = this.canvas.height / rect.height;
                
                return {
                    x: (e.clientX - rect.left) * scaleX,
                    y: (e.clientY - rect.top) * scaleY
                };
            }
            
            // æª¢æŸ¥æ˜¯å¦åœ¨å¯æ‹–å‹•çš„éœ€æ±‚æ›²ç·šé™„è¿‘
            isNearDemandCurve(pos) {
                if (this.demandShift === 0) return false; // åªæœ‰ç•¶æœ‰æ–°éœ€æ±‚æ›²ç·šæ™‚æ‰èƒ½æ‹–å‹•
                
                const tolerance = 15; // å®¹è¨±çš„è·é›¢
                const testQuantity = 100; // åœ¨åœ–è¡¨ä¸­é–“æª¢æ¸¬
                
                if (pos.x < this.margin || pos.x > this.width - this.margin) return false;
                if (pos.y < this.margin || pos.y > this.height - this.margin) return false;
                
                // å°‡ç•«å¸ƒåº§æ¨™è½‰æ›ç‚ºé‚è¼¯åº§æ¨™
                const quantity = ((pos.x - this.margin) / this.chartWidth) * 200;
                const price = ((this.height - this.margin - pos.y) / this.chartHeight) * 20;
                
                // è¨ˆç®—åœ¨é€™å€‹æ•¸é‡ä¸‹çš„éœ€æ±‚æ›²ç·šåƒ¹æ ¼
                const demandPrice = this.demandFunction(quantity);
                
                // æª¢æŸ¥æ˜¯å¦åœ¨æ›²ç·šé™„è¿‘
                return Math.abs(price - demandPrice) < tolerance * (20 / this.chartHeight);
            }
            
            // è™•ç†é–‹å§‹æ‹–å‹•
            handleStart(e) {
                const pos = this.getEventPos(e);
                
                if (this.isNearDemandCurve(pos)) {
                    this.isDragging = true;
                    this.dragStartY = pos.y;
                    this.initialShift = this.demandShift;
                    this.canvas.style.cursor = 'grabbing';
                }
            }
            
            // è™•ç†æ‹–å‹•ç§»å‹•
            handleMove(e) {
                const pos = this.getEventPos(e);
                
                if (this.isDragging) {
                    // è¨ˆç®—å‚ç›´ç§»å‹•è·é›¢
                    const deltaY = this.dragStartY - pos.y; // å‘ä¸Šç‚ºæ­£
                    const priceChange = (deltaY / this.chartHeight) * 20; // è½‰æ›ç‚ºåƒ¹æ ¼å–®ä½
                    
                    // æ›´æ–°éœ€æ±‚åç§»ï¼Œé™åˆ¶åœ¨åˆç†ç¯„åœå…§
                    this.demandShift = Math.max(-10, Math.min(10, this.initialShift + priceChange));
                    
                    // å¯¦æ™‚é‡ç¹ª
                    this.draw();
                }
            }
            
            // è™•ç†çµæŸæ‹–å‹•
            handleEnd(e) {
                if (this.isDragging) {
                    this.isDragging = false;
                    this.canvas.style.cursor = 'default';
                }
            }
            
            // æ›´æ–°æ¸¸æ¨™æ¨£å¼
            updateCursor(e) {
                const pos = this.getEventPos(e);
                
                if (this.isNearDemandCurve(pos)) {
                    this.canvas.style.cursor = 'grab';
                    this.isHovering = true;
                } else {
                    this.canvas.style.cursor = 'default';
                    this.isHovering = false;
                }
            }
        }

        // èªè¨€åˆ‡æ›åŠŸèƒ½
        let currentLanguage = 'cn';
        
        const translations = {
            cn: {
                mainTitle: 'ä¾›éœ€å‡è¡¡äº’å‹•æ•™å­¸',
                mainSubtitle: 'è§€å¯Ÿéœ€æ±‚è®ŠåŒ–å°å‡è¡¡åƒ¹æ ¼å’Œæ•¸é‡çš„å½±éŸ¿',
                controlPanel: 'æ§åˆ¶é¢æ¿',
                demandAdjustment: 'éœ€æ±‚æ›²ç·šèª¿æ•´',
                increaseDemand: 'éœ€æ±‚ä¸Šå‡ â†—ï¸',
                decreaseDemand: 'éœ€æ±‚ä¸‹é™ â†˜ï¸',
                resetDemand: 'é‡è¨­ ğŸ”„',
                chartTitle: 'ä¾›éœ€å‡è¡¡åœ–',
                interactiveQuiz: 'ğŸ’­ äº’å‹•æ¸¬é©—',
                priceLabel: 'åƒ¹æ ¼ (Price)',
                quantityLabel: 'æ•¸é‡ (Quantity)',
                conceptTitle: 'ç¶“æ¿Ÿå­¸æ¦‚å¿µèªªæ˜',
                interactiveFeature: 'ğŸ“± äº’å‹•åŠŸèƒ½',
                interactiveDesc: 'å…ˆé»æ“ŠæŒ‰éˆ•å‰µå»ºæ–°çš„éœ€æ±‚æ›²ç·šï¼ˆDâ‚‚ï¼‰ï¼Œç„¶å¾Œå¯ä»¥ç”¨æ»‘é¼ æˆ–æ‰‹æŒ‡ç›´æ¥æ‹–å‹•éœ€æ±‚æ›²ç·šä¸Šä¸‹ç§»å‹•ï¼Œè§€å¯Ÿå‡è¡¡é»çš„å¯¦æ™‚è®ŠåŒ–ï¼',
                demandIncreaseTitle: 'éœ€æ±‚ä¸Šå‡çš„å½±éŸ¿ï¼š',
                demandIncreaseEffects: [
                    'éœ€æ±‚æ›²ç·šå‘å³ä¸Šæ–¹ç§»å‹•',
                    'å‡è¡¡åƒ¹æ ¼ä¸Šå‡',
                    'å‡è¡¡æ•¸é‡å¢åŠ ',
                    'å¸‚å ´å‡ºç¾çŸ­æœŸä¾›ä¸æ‡‰æ±‚'
                ],
                demandDecreaseTitle: 'éœ€æ±‚ä¸‹é™çš„å½±éŸ¿ï¼š',
                demandDecreaseEffects: [
                    'éœ€æ±‚æ›²ç·šå‘å·¦ä¸‹æ–¹ç§»å‹•',
                    'å‡è¡¡åƒ¹æ ¼ä¸‹é™',
                    'å‡è¡¡æ•¸é‡æ¸›å°‘',
                    'å¸‚å ´å‡ºç¾çŸ­æœŸä¾›éæ–¼æ±‚'
                ],
                questions: {
                    '1': {
                        text: 'å•é¡Œ 1ï¼šç•¶éœ€æ±‚ä¸Šå‡æ™‚ï¼Œå‡è¡¡åƒ¹æ ¼å’Œå‡è¡¡æ•¸é‡æœƒå¦‚ä½•æ”¹è®Šï¼Ÿ',
                        options: {
                            'A': 'å‡è¡¡åƒ¹æ ¼ä¸Šå‡ï¼Œå‡è¡¡æ•¸é‡å¢åŠ ',
                            'B': 'å‡è¡¡åƒ¹æ ¼ä¸‹é™ï¼Œå‡è¡¡æ•¸é‡æ¸›å°‘',
                            'C': 'å‡è¡¡åƒ¹æ ¼ä¸Šå‡ï¼Œå‡è¡¡æ•¸é‡æ¸›å°‘',
                            'D': 'å‡è¡¡åƒ¹æ ¼ä¸‹é™ï¼Œå‡è¡¡æ•¸é‡å¢åŠ '
                        }
                    },
                    '2': {
                        text: 'å•é¡Œ 2ï¼šç•¶éœ€æ±‚ä¸‹é™æ™‚ï¼Œå‡è¡¡åƒ¹æ ¼å’Œå‡è¡¡æ•¸é‡æœƒå¦‚ä½•æ”¹è®Šï¼Ÿ',
                        options: {
                            'A': 'å‡è¡¡åƒ¹æ ¼ä¸Šå‡ï¼Œå‡è¡¡æ•¸é‡å¢åŠ ',
                            'B': 'å‡è¡¡åƒ¹æ ¼ä¸‹é™ï¼Œå‡è¡¡æ•¸é‡æ¸›å°‘',
                            'C': 'å‡è¡¡åƒ¹æ ¼ä¸Šå‡ï¼Œå‡è¡¡æ•¸é‡æ¸›å°‘',
                            'D': 'å‡è¡¡åƒ¹æ ¼ä¸‹é™ï¼Œå‡è¡¡æ•¸é‡å¢åŠ '
                        }
                    },
                    '3': {
                        text: 'å•é¡Œ 3ï¼šå¦‚æœäººå€‘é æœŸç‰©å“Xçš„åƒ¹æ ¼ä¸Šå‡ï¼Œç¾åœ¨ç‰©å“Xçš„å‡è¡¡åƒ¹æ ¼æœ‰ä½•å½±éŸ¿å‘¢ï¼Ÿ',
                        options: {
                            'A': 'ç¾åœ¨çš„å‡è¡¡åƒ¹æ ¼ä¸Šå‡',
                            'B': 'ç¾åœ¨çš„å‡è¡¡åƒ¹æ ¼ä¸‹é™',
                            'C': 'ç¾åœ¨çš„å‡è¡¡åƒ¹æ ¼ä¸è®Š',
                            'D': 'ç„¡æ³•ç¢ºå®šå½±éŸ¿æ–¹å‘'
                        }
                    },
                    '4': {
                        text: 'å•é¡Œ 4ï¼šå¦‚æœç‰©å“Xå’Œç‰©å“Yæ˜¯ä»£æ›¿å“ï¼Œç•¶ç‰©å“Xçš„å‡è¡¡åƒ¹æ ¼ä¸Šå‡æ™‚ï¼Œç‰©å“Yçš„å‡è¡¡æ•¸é‡å¦‚ä½•æ”¹è®Šï¼Ÿ',
                        options: {
                            'A': 'ç‰©å“Yçš„å‡è¡¡æ•¸é‡å¢åŠ ',
                            'B': 'ç‰©å“Yçš„å‡è¡¡æ•¸é‡æ¸›å°‘',
                            'C': 'ç‰©å“Yçš„å‡è¡¡æ•¸é‡ä¸è®Š',
                            'D': 'ç„¡æ³•ç¢ºå®šå½±éŸ¿æ–¹å‘'
                        }
                    },
                    '5': {
                        text: 'å•é¡Œ 5ï¼šå¦‚æœç¶“æ¿Ÿè¡°é€€ï¼Œç‰©å“Xæ˜¯åŠ£ç­‰ç‰©å“ï¼Œå®ƒçš„å‡è¡¡åƒ¹æ ¼æœƒå¦‚ä½•æ”¹è®Šå‘¢ï¼Ÿ',
                        options: {
                            'A': 'å‡è¡¡åƒ¹æ ¼ä¸Šå‡',
                            'B': 'å‡è¡¡åƒ¹æ ¼ä¸‹é™',
                            'C': 'å‡è¡¡åƒ¹æ ¼ä¸è®Š',
                            'D': 'ç„¡æ³•ç¢ºå®šå½±éŸ¿æ–¹å‘'
                        }
                    },
                    '6': {
                        text: 'å•é¡Œ 6ï¼šç‰©å“Xæ˜¯ç‰©å“Yçš„å¼•ç”³éœ€æ±‚ï¼Œç•¶äººå€‘å°ç‰©å“Yçš„éœ€æ±‚ä¸‹é™æ™‚ï¼Œé€™å°ç‰©å“Xçš„å‡è¡¡æ•¸é‡æœ‰ä½•å½±éŸ¿å‘¢ï¼Ÿ',
                        options: {
                            'A': 'ç‰©å“Xçš„å‡è¡¡æ•¸é‡å¢åŠ ',
                            'B': 'ç‰©å“Xçš„å‡è¡¡æ•¸é‡æ¸›å°‘',
                            'C': 'ç‰©å“Xçš„å‡è¡¡æ•¸é‡ä¸è®Š',
                            'D': 'ç„¡æ³•ç¢ºå®šå½±éŸ¿æ–¹å‘'
                        }
                    },
                    '7': {
                        text: 'å•é¡Œ 7ï¼šç‰©å“Xæ˜¯ç‰©å“Yçš„è¼”åŠ©å“ï¼Œç•¶ç‰©å“Yçš„å‡è¡¡åƒ¹æ ¼ä¸‹é™ï¼Œé€™å°ç‰©å“Xçš„å‡è¡¡åƒ¹æ ¼æœ‰ä½•å½±éŸ¿å‘¢ï¼Ÿ',
                        options: {
                            'A': 'ç‰©å“Xçš„å‡è¡¡åƒ¹æ ¼ä¸Šå‡',
                            'B': 'ç‰©å“Xçš„å‡è¡¡åƒ¹æ ¼ä¸‹é™',
                            'C': 'ç‰©å“Xçš„å‡è¡¡åƒ¹æ ¼ä¸è®Š',
                            'D': 'ç„¡æ³•ç¢ºå®šå½±éŸ¿æ–¹å‘'
                        }
                    }
                },
                explanations: {
                    '1': {
                        'A': 'âœ… æ­£ç¢ºï¼ç•¶éœ€æ±‚ä¸Šå‡æ™‚ï¼Œéœ€æ±‚æ›²ç·šå‘å³ä¸Šæ–¹ç§»å‹•ï¼Œèˆ‡ä¾›çµ¦æ›²ç·šçš„äº¤é»ä¸Šç§»ï¼Œå°è‡´å‡è¡¡åƒ¹æ ¼ä¸Šå‡ï¼Œå‡è¡¡æ•¸é‡å¢åŠ ã€‚',
                        'B': 'âŒ éŒ¯èª¤ã€‚éœ€æ±‚ä¸Šå‡æœƒä½¿åƒ¹æ ¼å’Œæ•¸é‡éƒ½å¢åŠ ï¼Œè€Œä¸æ˜¯æ¸›å°‘ã€‚',
                        'C': 'âŒ éŒ¯èª¤ã€‚éœ€æ±‚ä¸Šå‡æœƒä½¿æ•¸é‡å¢åŠ ï¼Œè€Œä¸æ˜¯æ¸›å°‘ã€‚',
                        'D': 'âŒ éŒ¯èª¤ã€‚éœ€æ±‚ä¸Šå‡æœƒä½¿åƒ¹æ ¼ä¸Šå‡ï¼Œè€Œä¸æ˜¯ä¸‹é™ã€‚'
                    },
                    '2': {
                        'A': 'âŒ éŒ¯èª¤ã€‚éœ€æ±‚ä¸‹é™æœƒä½¿åƒ¹æ ¼å’Œæ•¸é‡éƒ½æ¸›å°‘ï¼Œè€Œä¸æ˜¯å¢åŠ ã€‚',
                        'B': 'âœ… æ­£ç¢ºï¼ç•¶éœ€æ±‚ä¸‹é™æ™‚ï¼Œéœ€æ±‚æ›²ç·šå‘å·¦ä¸‹æ–¹ç§»å‹•ï¼Œèˆ‡ä¾›çµ¦æ›²ç·šçš„äº¤é»ä¸‹ç§»ï¼Œå°è‡´å‡è¡¡åƒ¹æ ¼ä¸‹é™ï¼Œå‡è¡¡æ•¸é‡æ¸›å°‘ã€‚',
                        'C': 'âŒ éŒ¯èª¤ã€‚éœ€æ±‚ä¸‹é™æœƒä½¿åƒ¹æ ¼ä¸‹é™ï¼Œè€Œä¸æ˜¯ä¸Šå‡ã€‚',
                        'D': 'âŒ éŒ¯èª¤ã€‚éœ€æ±‚ä¸‹é™æœƒä½¿æ•¸é‡æ¸›å°‘ï¼Œè€Œä¸æ˜¯å¢åŠ ã€‚'
                    },
                    '3': {
                        'A': 'âœ… æ­£ç¢ºï¼ç•¶äººå€‘é æœŸåƒ¹æ ¼ä¸Šå‡æ™‚ï¼Œæœƒå¢åŠ ç•¶å‰çš„è³¼è²·ï¼ˆéœ€æ±‚å¢åŠ ï¼‰ï¼Œå°è‡´ç¾åœ¨çš„å‡è¡¡åƒ¹æ ¼ç«‹å³ä¸Šå‡ã€‚é€™æ˜¯é æœŸçš„è‡ªæˆ‘å¯¦ç¾æ•ˆæ‡‰ã€‚',
                        'B': 'âŒ éŒ¯èª¤ã€‚é æœŸåƒ¹æ ¼ä¸Šå‡æœƒä¿ƒä½¿äººå€‘æå‰è³¼è²·ï¼Œå¢åŠ ç•¶å‰éœ€æ±‚ï¼Œæ¨é«˜è€Œéé™ä½ç¾åœ¨çš„åƒ¹æ ¼ã€‚',
                        'C': 'âŒ éŒ¯èª¤ã€‚é æœŸæœƒå½±éŸ¿ç•¶å‰çš„è³¼è²·è¡Œç‚ºï¼Œä¸å¯èƒ½å°åƒ¹æ ¼æ²’æœ‰å½±éŸ¿ã€‚',
                        'D': 'âŒ éŒ¯èª¤ã€‚é æœŸåƒ¹æ ¼ä¸Šå‡å¿…ç„¶æœƒå¢åŠ ç•¶å‰éœ€æ±‚ï¼Œæ–¹å‘æ˜¯ç¢ºå®šçš„ã€‚'
                    },
                    '4': {
                        'A': 'âœ… æ­£ç¢ºï¼ç•¶ä»£æ›¿å“Xåƒ¹æ ¼ä¸Šå‡æ™‚ï¼Œæ¶ˆè²»è€…æœƒè½‰å‘è³¼è²·ä»£æ›¿å“Yï¼Œä½¿Yçš„éœ€æ±‚å¢åŠ ï¼Œå°è‡´Yçš„å‡è¡¡æ•¸é‡å¢åŠ ã€‚',
                        'B': 'âŒ éŒ¯èª¤ã€‚ä»£æ›¿å“Xæ¼²åƒ¹æœƒä¿ƒä½¿æ¶ˆè²»è€…è½‰å‘Yï¼Œå¢åŠ è€Œéæ¸›å°‘Yçš„æ•¸é‡ã€‚',
                        'C': 'âŒ éŒ¯èª¤ã€‚ä»£æ›¿å“é—œä¿‚æ„å‘³è‘—ä¸€æ–¹æ¼²åƒ¹å¿…ç„¶å½±éŸ¿å¦ä¸€æ–¹çš„éœ€æ±‚ï¼Œä¸å¯èƒ½ä¸è®Šã€‚',
                        'D': 'âŒ éŒ¯èª¤ã€‚ä»£æ›¿å“çš„ä½œç”¨æ–¹å‘æ˜¯ç¢ºå®šçš„ï¼ŒXæ¼²åƒ¹å¿…ç„¶ä¿ƒé€²Yçš„éŠ·å”®ã€‚'
                    },
                    '5': {
                        'A': 'âœ… æ­£ç¢ºï¼ç¶“æ¿Ÿè¡°é€€æ™‚æ”¶å…¥ä¸‹é™ï¼Œè€ŒåŠ£ç­‰ç‰©å“éœ€æ±‚èˆ‡æ”¶å…¥æˆåæ¯”ï¼Œæ”¶å…¥æ¸›å°‘æœƒä½¿åŠ£ç­‰ç‰©å“éœ€æ±‚å¢åŠ ï¼Œå°è‡´å‡è¡¡åƒ¹æ ¼ä¸Šå‡ã€‚',
                        'B': 'âŒ éŒ¯èª¤ã€‚åŠ£ç­‰ç‰©å“çš„ç‰¹æ€§æ˜¯æ”¶å…¥ä¸‹é™æ™‚éœ€æ±‚å¢åŠ ï¼Œæœƒæ¨é«˜è€Œéé™ä½åƒ¹æ ¼ã€‚',
                        'C': 'âŒ éŒ¯èª¤ã€‚ç¶“æ¿Ÿè¡°é€€å¿…ç„¶å½±éŸ¿åŠ£ç­‰ç‰©å“çš„éœ€æ±‚ï¼Œä¸å¯èƒ½åƒ¹æ ¼ä¸è®Šã€‚',
                        'D': 'âŒ éŒ¯èª¤ã€‚åŠ£ç­‰ç‰©å“èˆ‡æ”¶å…¥çš„åå‘é—œä¿‚æ˜¯ç¢ºå®šçš„ï¼Œæ–¹å‘å¯ä»¥é æ¸¬ã€‚'
                    },
                    '6': {
                        'A': 'âŒ éŒ¯èª¤ã€‚å¼•ç”³éœ€æ±‚èˆ‡åŸå§‹éœ€æ±‚å‘ˆæ­£ç›¸é—œï¼ŒYéœ€æ±‚ä¸‹é™æœƒä½¿Xéœ€æ±‚ä¹Ÿä¸‹é™ï¼Œæ•¸é‡æ¸›å°‘è€Œéå¢åŠ ã€‚',
                        'B': 'âœ… æ­£ç¢ºï¼å¼•ç”³éœ€æ±‚æ˜¯æŒ‡å°æŸå•†å“çš„éœ€æ±‚æºæ–¼å°å¦ä¸€å•†å“çš„éœ€æ±‚ã€‚ç•¶Yéœ€æ±‚ä¸‹é™æ™‚ï¼Œå°Xçš„å¼•ç”³éœ€æ±‚ä¹Ÿä¸‹é™ï¼Œå°è‡´Xçš„å‡è¡¡æ•¸é‡æ¸›å°‘ã€‚',
                        'C': 'âŒ éŒ¯èª¤ã€‚å¼•ç”³éœ€æ±‚é—œä¿‚æ„å‘³è‘—å…©è€…éœ€æ±‚åŒå‘è®Šå‹•ï¼Œä¸å¯èƒ½Yè®ŠåŒ–è€ŒXä¸è®Šã€‚',
                        'D': 'âŒ éŒ¯èª¤ã€‚å¼•ç”³éœ€æ±‚çš„æ–¹å‘æ˜¯ç¢ºå®šçš„ï¼Œèˆ‡åŸå§‹éœ€æ±‚å‘ˆæ­£ç›¸é—œé—œä¿‚ã€‚'
                    },
                    '7': {
                        'A': 'âœ… æ­£ç¢ºï¼è¼”åŠ©å“é€šå¸¸ä¸€èµ·ä½¿ç”¨ï¼Œç•¶Yåƒ¹æ ¼ä¸‹é™æ™‚ï¼Œå°Yçš„éœ€æ±‚å¢åŠ ï¼Œå¸¶å‹•å°è¼”åŠ©å“Xçš„éœ€æ±‚ä¹Ÿå¢åŠ ï¼Œå°è‡´Xçš„å‡è¡¡åƒ¹æ ¼ä¸Šå‡ã€‚',
                        'B': 'âŒ éŒ¯èª¤ã€‚è¼”åŠ©å“çš„éœ€æ±‚èˆ‡åŸå•†å“åŒå‘è®Šå‹•ï¼ŒYè®Šä¾¿å®œä¿ƒé€²Yå’ŒXçš„éŠ·å”®ï¼Œæœƒæ¨é«˜Xçš„åƒ¹æ ¼ã€‚',
                        'C': 'âŒ éŒ¯èª¤ã€‚è¼”åŠ©å“é—œä¿‚æ„å‘³è‘—å…©è€…éœ€æ±‚é€£å‹•ï¼ŒYåƒ¹æ ¼è®ŠåŒ–å¿…ç„¶å½±éŸ¿Xçš„éœ€æ±‚å’Œåƒ¹æ ¼ã€‚',
                        'D': 'âŒ éŒ¯èª¤ã€‚è¼”åŠ©å“çš„å½±éŸ¿æ–¹å‘æ˜¯ç¢ºå®šçš„ï¼Œèˆ‡åŸå•†å“å‘ˆæ­£ç›¸é—œé—œä¿‚ã€‚'
                    }
                }
            },
            en: {
                mainTitle: 'Interactive Supply & Demand Tutorial',
                mainSubtitle: 'Observe how demand changes affect equilibrium price and quantity',
                controlPanel: 'Control Panel',
                demandAdjustment: 'Demand Curve Adjustment',
                increaseDemand: 'Increase Demand â†—ï¸',
                decreaseDemand: 'Decrease Demand â†˜ï¸',
                resetDemand: 'Reset ğŸ”„',
                chartTitle: 'Supply & Demand Chart',
                interactiveQuiz: 'ğŸ’­ Interactive Quiz',
                priceLabel: 'Price',
                quantityLabel: 'Quantity',
                conceptTitle: 'Economic Concepts',
                interactiveFeature: 'ğŸ“± Interactive Features',
                interactiveDesc: 'First click the buttons to create a new demand curve (Dâ‚‚), then drag the demand curve up or down with your mouse or finger to observe real-time changes in equilibrium!',
                demandIncreaseTitle: 'Effects of Demand Increase:',
                demandIncreaseEffects: [
                    'Demand curve shifts rightward',
                    'Equilibrium price increases',
                    'Equilibrium quantity increases',
                    'Market shows short-term shortage'
                ],
                demandDecreaseTitle: 'Effects of Demand Decrease:',
                demandDecreaseEffects: [
                    'Demand curve shifts leftward',
                    'Equilibrium price decreases',
                    'Equilibrium quantity decreases',
                    'Market shows short-term surplus'
                ],
                questions: {
                    '1': {
                        text: 'Question 1: When demand increases, how do equilibrium price and quantity change?',
                        options: {
                            'A': 'Price increases, quantity increases',
                            'B': 'Price decreases, quantity decreases',
                            'C': 'Price increases, quantity decreases',
                            'D': 'Price decreases, quantity increases'
                        }
                    },
                    '2': {
                        text: 'Question 2: When demand decreases, how do equilibrium price and quantity change?',
                        options: {
                            'A': 'Price increases, quantity increases',
                            'B': 'Price decreases, quantity decreases',
                            'C': 'Price increases, quantity decreases',
                            'D': 'Price decreases, quantity increases'
                        }
                    },
                    '3': {
                        text: 'Question 3: If people expect the price of good X to rise, what happens to the current equilibrium price of X?',
                        options: {
                            'A': 'Current equilibrium price increases',
                            'B': 'Current equilibrium price decreases',
                            'C': 'Current equilibrium price remains unchanged',
                            'D': 'Cannot determine the direction'
                        }
                    },
                    '4': {
                        text: 'Question 4: If goods X and Y are substitutes, when the equilibrium price of X rises, how does the equilibrium quantity of Y change?',
                        options: {
                            'A': 'Quantity of Y increases',
                            'B': 'Quantity of Y decreases',
                            'C': 'Quantity of Y remains unchanged',
                            'D': 'Cannot determine the direction'
                        }
                    },
                    '5': {
                        text: 'Question 5: During an economic recession, if good X is an inferior good, how does its equilibrium price change?',
                        options: {
                            'A': 'Equilibrium price increases',
                            'B': 'Equilibrium price decreases',
                            'C': 'Equilibrium price remains unchanged',
                            'D': 'Cannot determine the direction'
                        }
                    },
                    '6': {
                        text: 'Question 6: Good X has derived demand from good Y. When demand for Y decreases, how does the equilibrium quantity of X change?',
                        options: {
                            'A': 'Quantity of X increases',
                            'B': 'Quantity of X decreases',
                            'C': 'Quantity of X remains unchanged',
                            'D': 'Cannot determine the direction'
                        }
                    },
                    '7': {
                        text: 'Question 7: Good X is a complement to good Y. When the equilibrium price of Y decreases, how does the equilibrium price of X change?',
                        options: {
                            'A': 'Price of X increases',
                            'B': 'Price of X decreases',
                            'C': 'Price of X remains unchanged',
                            'D': 'Cannot determine the direction'
                        }
                    }
                },
                explanations: {
                    '1': {
                        'A': 'âœ… Correct! When demand increases, the demand curve shifts rightward, moving the intersection point with supply curve upward, resulting in higher equilibrium price and quantity.',
                        'B': 'âŒ Incorrect. Demand increase leads to higher price and quantity, not lower.',
                        'C': 'âŒ Incorrect. Demand increase leads to higher quantity, not lower.',
                        'D': 'âŒ Incorrect. Demand increase leads to higher price, not lower.'
                    },
                    '2': {
                        'A': 'âŒ Incorrect. Demand decrease leads to lower price and quantity, not higher.',
                        'B': 'âœ… Correct! When demand decreases, the demand curve shifts leftward, moving the intersection point with supply curve downward, resulting in lower equilibrium price and quantity.',
                        'C': 'âŒ Incorrect. Demand decrease leads to lower price, not higher.',
                        'D': 'âŒ Incorrect. Demand decrease leads to lower quantity, not higher.'
                    },
                    '3': {
                        'A': 'âœ… Correct! When people expect price increases, they buy more now (demand increases), causing current equilibrium price to rise immediately. This is a self-fulfilling expectation effect.',
                        'B': 'âŒ Incorrect. Price expectations encourage current purchases, increasing demand and raising current prices.',
                        'C': 'âŒ Incorrect. Expectations affect current buying behavior and cannot leave prices unchanged.',
                        'D': 'âŒ Incorrect. The direction is predictable - expected price increases lead to current demand increases.'
                    },
                    '4': {
                        'A': 'âœ… Correct! When substitute X becomes more expensive, consumers switch to substitute Y, increasing Y\'s demand and equilibrium quantity.',
                        'B': 'âŒ Incorrect. Higher price of substitute X drives consumers to Y, increasing Y\'s quantity.',
                        'C': 'âŒ Incorrect. Substitute relationship means one good\'s price change affects the other\'s demand.',
                        'D': 'âŒ Incorrect. The direction is predictable for substitutes - higher X price increases Y sales.'
                    },
                    '5': {
                        'A': 'âœ… Correct! During recession, incomes fall. Inferior goods have inverse income relationship - lower income increases demand for inferior goods, raising equilibrium price.',
                        'B': 'âŒ Incorrect. Inferior goods\' demand increases when income falls, pushing prices up, not down.',
                        'C': 'âŒ Incorrect. Economic recession necessarily affects demand for inferior goods.',
                        'D': 'âŒ Incorrect. The inverse income relationship for inferior goods is predictable.'
                    },
                    '6': {
                        'A': 'âŒ Incorrect. Derived demand moves in the same direction as original demand - Y decrease leads to X decrease.',
                        'B': 'âœ… Correct! Derived demand means X\'s demand comes from Y\'s demand. When Y demand falls, X\'s derived demand also falls, reducing X\'s equilibrium quantity.',
                        'C': 'âŒ Incorrect. Derived demand relationship means both goods\' demands move together.',
                        'D': 'âŒ Incorrect. The direction is predictable - derived demand has positive correlation with original demand.'
                    },
                    '7': {
                        'A': 'âœ… Correct! Complements are used together. When Y becomes cheaper, Y demand increases, driving up demand for complement X and raising X\'s equilibrium price.',
                        'B': 'âŒ Incorrect. Complement relationship means both goods\' demands move together - cheaper Y increases X sales and price.',
                        'C': 'âŒ Incorrect. Complement relationship means Y price changes affect X demand and price.',
                        'D': 'âŒ Incorrect. The direction is predictable for complements - positive correlation with original good.'
                    }
                }
            }
        };
        
        function updateLanguage(lang) {
            currentLanguage = lang;
            const t = translations[lang];
            
            // æ›´æ–°ä¸»è¦å…§å®¹
            document.getElementById('mainTitle').textContent = t.mainTitle;
            document.getElementById('mainSubtitle').textContent = t.mainSubtitle;
            
            // æ›´æ–°æ§åˆ¶é¢æ¿
            updateTextContent('controlPanel', t.controlPanel);
            updateTextContent('demandAdjustment', t.demandAdjustment);
            updateButtonText('increaseDemand', t.increaseDemand);
            updateButtonText('decreaseDemand', t.decreaseDemand);
            updateButtonText('resetDemand', t.resetDemand);
            
            // æ›´æ–°åœ–è¡¨æ¨™é¡Œ
            updateTextContent('chartTitle', t.chartTitle);
            
            // æ›´æ–°æ¸¬é©—æ¨™é¡Œ
            const quizTitle = document.querySelector('.mt-8.card h2');
            if (quizTitle) quizTitle.textContent = t.interactiveQuiz;
            
            // æ›´æ–°èªªæ˜å€åŸŸ
            const conceptTitle = document.querySelector('.mt-8.card:last-child h2');
            if (conceptTitle) conceptTitle.textContent = t.conceptTitle;
            
            const interactiveFeatureTitle = document.querySelector('.bg-blue-50 h3');
            if (interactiveFeatureTitle) interactiveFeatureTitle.textContent = t.interactiveFeature;
            
            const interactiveDesc = document.querySelector('.bg-blue-50 p');
            if (interactiveDesc) interactiveDesc.textContent = t.interactiveDesc;
            
            // æ›´æ–°éœ€æ±‚å½±éŸ¿æ¨™é¡Œå’Œåˆ—è¡¨
            const demandTitles = document.querySelectorAll('.grid.grid-cols-1.md\\:grid-cols-2 h3');
            if (demandTitles[0]) demandTitles[0].textContent = t.demandIncreaseTitle;
            if (demandTitles[1]) demandTitles[1].textContent = t.demandDecreaseTitle;
            
            const demandLists = document.querySelectorAll('.grid.grid-cols-1.md\\:grid-cols-2 ul');
            if (demandLists[0]) {
                demandLists[0].innerHTML = t.demandIncreaseEffects.map(item => `<li>${item}</li>`).join('');
            }
            if (demandLists[1]) {
                demandLists[1].innerHTML = t.demandDecreaseEffects.map(item => `<li>${item}</li>`).join('');
            }
            
            // æ›´æ–°å•é¡Œå’Œé¸é …
            updateQuestions(t.questions);
            
            // æ›´æ–°ç•¶å‰èªè¨€çš„è§£é‡‹ï¼ˆçµ¦æ¸¬é©—ç³»çµ±ä½¿ç”¨ï¼‰
            window.currentExplanations = t.explanations;
            
            // é‡æ–°ç¹ªè£½åœ–è¡¨ï¼ˆæ›´æ–°è»¸æ¨™ç±¤ï¼‰
            if (window.chart) {
                window.chart.draw();
            }
        }
        
        function updateTextContent(id, text) {
            const element = document.getElementById(id);
            if (element) element.textContent = text;
        }
        
        function updateButtonText(id, text) {
            const element = document.getElementById(id);
            if (element) element.textContent = text;
        }
        
        function updateListContent(id, items) {
            const container = document.getElementById(id);
            if (container) {
                container.innerHTML = items.map(item => `<li>${item}</li>`).join('');
            }
        }
        
        function updateQuestions(questions) {
            Object.keys(questions).forEach(questionId => {
                const questionData = questions[questionId];
                
                // æ›´æ–°å•é¡Œæ–‡æœ¬
                const questionElement = document.querySelector(`[data-question-id="${questionId}"]`);
                if (questionElement) {
                    questionElement.textContent = questionData.text;
                }
                
                // æ›´æ–°é¸é …
                Object.keys(questionData.options).forEach(optionKey => {
                    const optionElement = document.querySelector(`[data-question="${questionId}"][data-answer="${optionKey}"] .option-text`);
                    if (optionElement) {
                        optionElement.textContent = questionData.options[optionKey];
                    }
                });
            });
        }

        // åˆå§‹åŒ–æ‡‰ç”¨
        document.addEventListener('DOMContentLoaded', function() {
            const chart = new EconomicsChart('economicsChart');
            window.chart = chart; // ä¿å­˜åœ–è¡¨å¯¦ä¾‹ä¾›èªè¨€åˆ‡æ›ä½¿ç”¨
            
            // èªè¨€åˆ‡æ›æŒ‰éˆ•äº‹ä»¶
            document.getElementById('langCN').addEventListener('click', () => {
                updateLanguage('cn');
                document.getElementById('langCN').className = 'px-3 py-1 rounded-md text-sm font-medium transition-all duration-200 bg-primary text-white';
                document.getElementById('langEN').className = 'px-3 py-1 rounded-md text-sm font-medium transition-all duration-200 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700';
            });
            
            document.getElementById('langEN').addEventListener('click', () => {
                updateLanguage('en');
                document.getElementById('langEN').className = 'px-3 py-1 rounded-md text-sm font-medium transition-all duration-200 bg-primary text-white';
                document.getElementById('langCN').className = 'px-3 py-1 rounded-md text-sm font-medium transition-all duration-200 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700';
            });
            
            // æŒ‰éˆ•äº‹ä»¶
            document.getElementById('increaseDemand').addEventListener('click', () => {
                chart.increaseDemand();
            });
            
            document.getElementById('decreaseDemand').addEventListener('click', () => {
                chart.decreaseDemand();
            });
            
            document.getElementById('resetDemand').addEventListener('click', () => {
                chart.resetDemand();
            });
            
            // æ¸¬é©—åŠŸèƒ½
            setupQuiz();
        });
        
        // è¨­ç½®æ¸¬é©—åŠŸèƒ½
        function setupQuiz() {
            const quizOptions = document.querySelectorAll('.quiz-option');
            
            // æ­£ç¢ºç­”æ¡ˆ
            const correctAnswers = {
                '1': 'A', // éœ€æ±‚ä¸Šå‡ï¼šå‡è¡¡åƒ¹æ ¼ä¸Šå‡ï¼Œå‡è¡¡æ•¸é‡å¢åŠ 
                '2': 'B', // éœ€æ±‚ä¸‹é™ï¼šå‡è¡¡åƒ¹æ ¼ä¸‹é™ï¼Œå‡è¡¡æ•¸é‡æ¸›å°‘
                '3': 'A', // é æœŸåƒ¹æ ¼ä¸Šå‡ï¼šç¾åœ¨å‡è¡¡åƒ¹æ ¼ä¸Šå‡
                '4': 'A', // ä»£æ›¿å“åƒ¹æ ¼ä¸Šå‡ï¼šå¦ä¸€ä»£æ›¿å“å‡è¡¡æ•¸é‡å¢åŠ 
                '5': 'A', // ç¶“æ¿Ÿè¡°é€€ï¼šåŠ£ç­‰ç‰©å“å‡è¡¡åƒ¹æ ¼ä¸Šå‡
                '6': 'B', // å¼•ç”³éœ€æ±‚ï¼šYéœ€æ±‚ä¸‹é™å°è‡´Xå‡è¡¡æ•¸é‡æ¸›å°‘
                '7': 'A'  // è¼”åŠ©å“ï¼šYåƒ¹æ ¼ä¸‹é™å°è‡´Xå‡è¡¡åƒ¹æ ¼ä¸Šå‡
            };
            
            // ç­”æ¡ˆè§£é‡‹
            const explanations = {
                '1': {
                    'A': 'âœ… æ­£ç¢ºï¼ç•¶éœ€æ±‚ä¸Šå‡æ™‚ï¼Œéœ€æ±‚æ›²ç·šå‘å³ä¸Šæ–¹ç§»å‹•ï¼Œèˆ‡ä¾›çµ¦æ›²ç·šçš„äº¤é»ä¸Šç§»ï¼Œå°è‡´å‡è¡¡åƒ¹æ ¼ä¸Šå‡ï¼Œå‡è¡¡æ•¸é‡å¢åŠ ã€‚',
                    'B': 'âŒ éŒ¯èª¤ã€‚éœ€æ±‚ä¸Šå‡æœƒä½¿åƒ¹æ ¼å’Œæ•¸é‡éƒ½å¢åŠ ï¼Œè€Œä¸æ˜¯æ¸›å°‘ã€‚',
                    'C': 'âŒ éŒ¯èª¤ã€‚éœ€æ±‚ä¸Šå‡æœƒä½¿æ•¸é‡å¢åŠ ï¼Œè€Œä¸æ˜¯æ¸›å°‘ã€‚',
                    'D': 'âŒ éŒ¯èª¤ã€‚éœ€æ±‚ä¸Šå‡æœƒä½¿åƒ¹æ ¼ä¸Šå‡ï¼Œè€Œä¸æ˜¯ä¸‹é™ã€‚'
                },
                '2': {
                    'A': 'âŒ éŒ¯èª¤ã€‚éœ€æ±‚ä¸‹é™æœƒä½¿åƒ¹æ ¼å’Œæ•¸é‡éƒ½æ¸›å°‘ï¼Œè€Œä¸æ˜¯å¢åŠ ã€‚',
                    'B': 'âœ… æ­£ç¢ºï¼ç•¶éœ€æ±‚ä¸‹é™æ™‚ï¼Œéœ€æ±‚æ›²ç·šå‘å·¦ä¸‹æ–¹ç§»å‹•ï¼Œèˆ‡ä¾›çµ¦æ›²ç·šçš„äº¤é»ä¸‹ç§»ï¼Œå°è‡´å‡è¡¡åƒ¹æ ¼ä¸‹é™ï¼Œå‡è¡¡æ•¸é‡æ¸›å°‘ã€‚',
                    'C': 'âŒ éŒ¯èª¤ã€‚éœ€æ±‚ä¸‹é™æœƒä½¿åƒ¹æ ¼ä¸‹é™ï¼Œè€Œä¸æ˜¯ä¸Šå‡ã€‚',
                    'D': 'âŒ éŒ¯èª¤ã€‚éœ€æ±‚ä¸‹é™æœƒä½¿æ•¸é‡æ¸›å°‘ï¼Œè€Œä¸æ˜¯å¢åŠ ã€‚'
                },
                '3': {
                    'A': 'âœ… æ­£ç¢ºï¼ç•¶äººå€‘é æœŸåƒ¹æ ¼ä¸Šå‡æ™‚ï¼Œæœƒå¢åŠ ç•¶å‰çš„è³¼è²·ï¼ˆéœ€æ±‚å¢åŠ ï¼‰ï¼Œå°è‡´ç¾åœ¨çš„å‡è¡¡åƒ¹æ ¼ç«‹å³ä¸Šå‡ã€‚é€™æ˜¯é æœŸçš„è‡ªæˆ‘å¯¦ç¾æ•ˆæ‡‰ã€‚',
                    'B': 'âŒ éŒ¯èª¤ã€‚é æœŸåƒ¹æ ¼ä¸Šå‡æœƒä¿ƒä½¿äººå€‘æå‰è³¼è²·ï¼Œå¢åŠ ç•¶å‰éœ€æ±‚ï¼Œæ¨é«˜è€Œéé™ä½ç¾åœ¨çš„åƒ¹æ ¼ã€‚',
                    'C': 'âŒ éŒ¯èª¤ã€‚é æœŸæœƒå½±éŸ¿ç•¶å‰çš„è³¼è²·è¡Œç‚ºï¼Œä¸å¯èƒ½å°åƒ¹æ ¼æ²’æœ‰å½±éŸ¿ã€‚',
                    'D': 'âŒ éŒ¯èª¤ã€‚é æœŸåƒ¹æ ¼ä¸Šå‡å¿…ç„¶æœƒå¢åŠ ç•¶å‰éœ€æ±‚ï¼Œæ–¹å‘æ˜¯ç¢ºå®šçš„ã€‚'
                },
                '4': {
                    'A': 'âœ… æ­£ç¢ºï¼ç•¶ä»£æ›¿å“Xåƒ¹æ ¼ä¸Šå‡æ™‚ï¼Œæ¶ˆè²»è€…æœƒè½‰å‘è³¼è²·ä»£æ›¿å“Yï¼Œä½¿Yçš„éœ€æ±‚å¢åŠ ï¼Œå°è‡´Yçš„å‡è¡¡æ•¸é‡å¢åŠ ã€‚',
                    'B': 'âŒ éŒ¯èª¤ã€‚ä»£æ›¿å“Xæ¼²åƒ¹æœƒä¿ƒä½¿æ¶ˆè²»è€…è½‰å‘Yï¼Œå¢åŠ è€Œéæ¸›å°‘Yçš„æ•¸é‡ã€‚',
                    'C': 'âŒ éŒ¯èª¤ã€‚ä»£æ›¿å“é—œä¿‚æ„å‘³è‘—ä¸€æ–¹æ¼²åƒ¹å¿…ç„¶å½±éŸ¿å¦ä¸€æ–¹çš„éœ€æ±‚ï¼Œä¸å¯èƒ½ä¸è®Šã€‚',
                    'D': 'âŒ éŒ¯èª¤ã€‚ä»£æ›¿å“çš„ä½œç”¨æ–¹å‘æ˜¯ç¢ºå®šçš„ï¼ŒXæ¼²åƒ¹å¿…ç„¶ä¿ƒé€²Yçš„éŠ·å”®ã€‚'
                },
                '5': {
                    'A': 'âœ… æ­£ç¢ºï¼ç¶“æ¿Ÿè¡°é€€æ™‚æ”¶å…¥ä¸‹é™ï¼Œè€ŒåŠ£ç­‰ç‰©å“éœ€æ±‚èˆ‡æ”¶å…¥æˆåæ¯”ï¼Œæ”¶å…¥æ¸›å°‘æœƒä½¿åŠ£ç­‰ç‰©å“éœ€æ±‚å¢åŠ ï¼Œå°è‡´å‡è¡¡åƒ¹æ ¼ä¸Šå‡ã€‚',
                    'B': 'âŒ éŒ¯èª¤ã€‚åŠ£ç­‰ç‰©å“çš„ç‰¹æ€§æ˜¯æ”¶å…¥ä¸‹é™æ™‚éœ€æ±‚å¢åŠ ï¼Œæœƒæ¨é«˜è€Œéé™ä½åƒ¹æ ¼ã€‚',
                    'C': 'âŒ éŒ¯èª¤ã€‚ç¶“æ¿Ÿè¡°é€€å¿…ç„¶å½±éŸ¿åŠ£ç­‰ç‰©å“çš„éœ€æ±‚ï¼Œä¸å¯èƒ½åƒ¹æ ¼ä¸è®Šã€‚',
                    'D': 'âŒ éŒ¯èª¤ã€‚åŠ£ç­‰ç‰©å“èˆ‡æ”¶å…¥çš„åå‘é—œä¿‚æ˜¯ç¢ºå®šçš„ï¼Œæ–¹å‘å¯ä»¥é æ¸¬ã€‚'
                },
                '6': {
                    'A': 'âŒ éŒ¯èª¤ã€‚å¼•ç”³éœ€æ±‚èˆ‡åŸå§‹éœ€æ±‚å‘ˆæ­£ç›¸é—œï¼ŒYéœ€æ±‚ä¸‹é™æœƒä½¿Xéœ€æ±‚ä¹Ÿä¸‹é™ï¼Œæ•¸é‡æ¸›å°‘è€Œéå¢åŠ ã€‚',
                    'B': 'âœ… æ­£ç¢ºï¼å¼•ç”³éœ€æ±‚æ˜¯æŒ‡å°æŸå•†å“çš„éœ€æ±‚æºæ–¼å°å¦ä¸€å•†å“çš„éœ€æ±‚ã€‚ç•¶Yéœ€æ±‚ä¸‹é™æ™‚ï¼Œå°Xçš„å¼•ç”³éœ€æ±‚ä¹Ÿä¸‹é™ï¼Œå°è‡´Xçš„å‡è¡¡æ•¸é‡æ¸›å°‘ã€‚',
                    'C': 'âŒ éŒ¯èª¤ã€‚å¼•ç”³éœ€æ±‚é—œä¿‚æ„å‘³è‘—å…©è€…éœ€æ±‚åŒå‘è®Šå‹•ï¼Œä¸å¯èƒ½Yè®ŠåŒ–è€ŒXä¸è®Šã€‚',
                    'D': 'âŒ éŒ¯èª¤ã€‚å¼•ç”³éœ€æ±‚çš„æ–¹å‘æ˜¯ç¢ºå®šçš„ï¼Œèˆ‡åŸå§‹éœ€æ±‚å‘ˆæ­£ç›¸é—œé—œä¿‚ã€‚'
                },
                '7': {
                    'A': 'âœ… æ­£ç¢ºï¼è¼”åŠ©å“é€šå¸¸ä¸€èµ·ä½¿ç”¨ï¼Œç•¶Yåƒ¹æ ¼ä¸‹é™æ™‚ï¼Œå°Yçš„éœ€æ±‚å¢åŠ ï¼Œå¸¶å‹•å°è¼”åŠ©å“Xçš„éœ€æ±‚ä¹Ÿå¢åŠ ï¼Œå°è‡´Xçš„å‡è¡¡åƒ¹æ ¼ä¸Šå‡ã€‚',
                    'B': 'âŒ éŒ¯èª¤ã€‚è¼”åŠ©å“çš„éœ€æ±‚èˆ‡åŸå•†å“åŒå‘è®Šå‹•ï¼ŒYè®Šä¾¿å®œä¿ƒé€²Yå’ŒXçš„éŠ·å”®ï¼Œæœƒæ¨é«˜Xçš„åƒ¹æ ¼ã€‚',
                    'C': 'âŒ éŒ¯èª¤ã€‚è¼”åŠ©å“é—œä¿‚æ„å‘³è‘—å…©è€…éœ€æ±‚é€£å‹•ï¼ŒYåƒ¹æ ¼è®ŠåŒ–å¿…ç„¶å½±éŸ¿Xçš„éœ€æ±‚å’Œåƒ¹æ ¼ã€‚',
                    'D': 'âŒ éŒ¯èª¤ã€‚è¼”åŠ©å“çš„å½±éŸ¿æ–¹å‘æ˜¯ç¢ºå®šçš„ï¼Œèˆ‡åŸå•†å“å‘ˆæ­£ç›¸é—œé—œä¿‚ã€‚'
                }
            };
            
            quizOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.dataset.question;
                    const answer = this.dataset.answer;
                    const feedback = document.getElementById(`feedback-${question}`);
                    
                    // ç§»é™¤æ‰€æœ‰åŒçµ„é¸é …çš„é¸ä¸­ç‹€æ…‹
                    const sameGroupOptions = document.querySelectorAll(`[data-question="${question}"]`);
                    sameGroupOptions.forEach(opt => {
                        opt.classList.remove('border-green-500', 'border-red-500', 'bg-green-50', 'bg-red-50');
                        opt.classList.remove('dark:bg-green-900/20', 'dark:bg-red-900/20');
                        opt.classList.add('border-gray-200', 'dark:border-gray-600');
                    });
                    
                    // æ¨™è¨˜ç•¶å‰é¸é …
                    const isCorrect = answer === correctAnswers[question];
                    if (isCorrect) {
                        this.classList.remove('border-gray-200', 'dark:border-gray-600');
                        this.classList.add('border-green-500', 'bg-green-50', 'dark:bg-green-900/20');
                    } else {
                        this.classList.remove('border-gray-200', 'dark:border-gray-600');
                        this.classList.add('border-red-500', 'bg-red-50', 'dark:bg-red-900/20');
                        
                        // åŒæ™‚æ¨™è¨˜æ­£ç¢ºç­”æ¡ˆ
                        const correctOption = document.querySelector(`[data-question="${question}"][data-answer="${correctAnswers[question]}"]`);
                        correctOption.classList.remove('border-gray-200', 'dark:border-gray-600');
                        correctOption.classList.add('border-green-500', 'bg-green-50', 'dark:bg-green-900/20');
                    }
                    
                    // é¡¯ç¤ºåé¥‹ï¼ˆä½¿ç”¨ç•¶å‰èªè¨€çš„è§£é‡‹ï¼‰
                    const currentExplanations = window.currentExplanations || explanations;
                    feedback.className = `mt-4 p-4 rounded-lg ${isCorrect ? 'bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700' : 'bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700'}`;
                    feedback.innerHTML = `<p class="${isCorrect ? 'text-green-800 dark:text-green-300' : 'text-red-800 dark:text-red-300'}">${currentExplanations[question][answer]}</p>`;
                    feedback.classList.remove('hidden');
                    
                    // å¹³æ»‘æ»¾å‹•åˆ°åé¥‹
                    feedback.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                });
            });
        }
    </script>
</body>
</html>
